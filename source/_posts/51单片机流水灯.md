---
title: 51单片机流水灯
tags: [单片机]
categories: [硬件,单片机,51]
date: 2019-09-27 21:29:24
---

# 51单片机运行流水灯

> 单片机: stc89c52
>
> 开发板: 清翔单片机(QX-MCS51 V2.0)

### 电路图

![](https://raw.githubusercontent.com/qnyt1993/picture/master/img/2019/09/27/QQ%E6%88%AA%E5%9B%BE20190927213216.png)

### 流水灯(第一种方案)



    #include <reg52.h>
    #include <intrins.h>
    
    #define uint  unsigned int
    
    //定义延时方法
    void delay(uint z) {
        uint x,y;
        for(x = 0; x <= 1000; x++) {
            for(y = 0; y <= z; y++);
        }
    }
    
    //主函数
    void main()
    {
        P1 = 0xfe;								//初始化流水灯状态
        while(1) {
            delay(50);					//执行延时
            P1 = _crol_(P1,1);	//执行移位操作
        }
    }

#### 流水灯(第二种方案)

    #include <reg52.h>
    
    #define uint  unsigned int
    #define uchar unsigned char
    
    //定义延时方法
    void delay(uint z) {
        uint x,y;
        for(x = 0; x <= 1000; x++) {
            for(y = 0; y <= z; y++);
        }
    }
    
    //主函数
    void main()
    {
        uchar cnt = 0;
        while(1) {
            P1 = ~(0x01 << cnt);
            delay(100);
            cnt++;
            if(cnt >= 8) {
                cnt = 0 ;
            }
        }
    }
    
    
    
<iframe src="//player.bilibili.com/player.html?aid=69192045&cid=119917274&page=1" 
  width=100% 
  height=600
scrolling="no" 
border="0" 
frameborder="no" 
framespacing="0" 
allowfullscreen="true"> 
</iframe>   


