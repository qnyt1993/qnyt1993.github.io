---
title: 51单片机的点阵图形静态显示
tags: [单片机]
categories: [硬件,单片机,51]
date: 2019-10-03 19:09:54
---

#### 0. 开发环境

> 单片机: stc89c52
>
> 开发板: Hot51单片机增强版


#### 1. 程序代码

    #include <reg52.H>
    #define uint unsigned int
    #define uchar unsigned char
    //心形显示
    uchar code tabP0[]= {0x30,0x48,0x44,0x22,0x44,0x48,0x30,0x00};
    uchar code tabP2[]= {0x7F,0xBF,0xDF,0xEF,0xF7,0xFB,0xFD,0xFE};
    
    //需要连接上J16这个跳线帽。这个代码在点阵上显示相应的图形。
    void main() {
        EA = 1;						//开总中断
        TMOD = 0x01;    	//设置定时器0为一个16位的定时器
        TH0 = 0xFC;        //因为定时器分高八位和低八位，根据累加到溢出从而实现定时，因此需要给定时器0设置累加初值
        TL0 = 0x66;        //设置每次定时1ms
        ET0 = 1;					//使能T0中断
        TR0 = 1;            //开启定时器0
    
        while(1);
    }
    
    void InterruptTimer0()  interrupt 1        //定时器0触发的中断
    {
        static uchar i = 0;
        TH0 = 0xFC;            //重新设置定时器0的初始值
        TL0 = 0x66;
    
        P0 = tabP0[i];
        P2 = tabP2[i];
    
        if(i>=7) {
            i = 0;
        } else {
            i++;
        }
    }
    
#### 2. 显示效果

![](https://i.loli.net/2019/10/29/EFmH7iZDcTN3htI.png)

   